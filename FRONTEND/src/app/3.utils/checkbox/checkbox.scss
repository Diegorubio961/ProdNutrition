/* --- Variables --- */
$color-primary: #341555;     /* Morado (Login) */
$color-secondary: #007bff;   /* Azul ejemplo */
$color-bg-gray: #E0E0E0;     /* Fondo switch apagado */
$color-white: #ffffff;
$radius-checkbox: 6px;
$radius-switch: 20px;

.checkbox-wrapper {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
  font-family: 'Lato', sans-serif;
  font-size: 0.95rem;
  color: #333;
  gap: 10px; /* Espacio entre el cuadro y el texto */
  transition: opacity 0.3s;

  /* Estado Disabled */
  &.disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  /* --- POSICIONAMIENTO DEL LABEL (Flexbox Magic) --- */
  &.pos-after { flex-direction: row; }           /* [x] Texto */
  &.pos-before { flex-direction: row-reverse; }  /* Texto [x] */
  &.pos-top {                                    /* Texto arriba */
    flex-direction: column-reverse; 
    align-items: flex-start;
    gap: 6px;
  }
  &.pos-bottom {                                 /* Texto abajo */
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }
}

/* =========================================
   ESTILO 1: CHECKBOX CLÁSICO (Tu diseño)
   ========================================= */
.visual-checkbox {
  position: relative;
  height: 20px;
  width: 20px;
  background-color: transparent;
  border: 2px solid $color-bg-gray; /* Gris por defecto cuando no está check */
  border-radius: $radius-checkbox;
  transition: all 0.2s ease;
  flex-shrink: 0;

  /* Checkmark dibujado con CSS (la L rotada) */
  .checkmark-icon {
    position: absolute;
    top: 45%;
    left: 50%;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: translate(-50%, -50%) rotate(45deg) scale(0); /* Oculto scale(0) */
    transition: transform 0.2s cubic-bezier(0.5, 1.6, 0.4, 0.7);
  }

  /* ESTADO ACTIVADO (Checked) */
  &.checked {
    border-color: transparent; // El color lo pone el modificador de color abajo
    
    .checkmark-icon {
      transform: translate(-50%, -60%) rotate(45deg) scale(1);
    }
  }
}

/* =========================================
   ESTILO 2: SWITCH (Tipo iOS)
   ========================================= */
.visual-switch {
  position: relative;
  width: 44px;
  height: 24px;
  background-color: $color-bg-gray;
  border-radius: $radius-switch;
  transition: background-color 0.3s;
  flex-shrink: 0;

  .switch-thumb {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background-color: white;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  /* ESTADO ACTIVADO (Checked) */
  &.checked {
    .switch-thumb {
      transform: translateX(20px); /* Mueve la bolita a la derecha */
    }
  }
}

/* =========================================
   COLORES (Aplica tanto a checkbox como switch)
   ========================================= */

/* COLOR: PRIMARY (Morado) */
.color-primary {
  .label-text { color: $color-primary; } /* Texto morado como tu foto */
  
  .visual-checkbox.checked {
    background-color: $color-primary;
    border-color: $color-primary;
  }
  .visual-switch.checked {
    background-color: $color-primary;
  }
}

/* COLOR: SECONDARY (Azul, por ejemplo) */
.color-secondary {
  .visual-checkbox.checked {
    background-color: $color-secondary;
    border-color: $color-secondary;
  }
  .visual-switch.checked {
    background-color: $color-secondary;
  }
}