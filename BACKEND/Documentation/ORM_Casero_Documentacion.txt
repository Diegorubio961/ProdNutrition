# DocumentaciÃ³n del ORM Casero con QueryBuilder

Este documento describe cÃ³mo utilizar tu ORM casero basado en `BaseModel` y `QueryBuilder` para realizar operaciones bÃ¡sicas y avanzadas con base de datos en PHP.

## ğŸ§± Estructura Base

Todos los modelos deben extender de `BaseModel` y definir la propiedad protegida `$table`, por ejemplo:

```php
class User extends BaseModel {
    protected static string $table = 'users';
}
```

## ğŸ“„ MÃ©todos disponibles en BaseModel

### âœ… `all()`
Obtiene todos los registros de la tabla.
```php
User::all();
```

### âœ… `find($id)`
Busca un registro por su ID.
```php
User::find(5);
```

### âœ… `findBy($column, $value)`
Busca el primer registro que cumpla con la condiciÃ³n dada.
```php
User::findBy('email', 'ejemplo@correo.com');
```

### âœ… `create(array $data)`
Inserta un nuevo registro.
```php
User::create([
    'name' => 'Deyvid',
    'email' => 'correo@ejemplo.com'
]);
```

### âœ… `update($id, array $data)`
Actualiza un registro por ID.
```php
User::update(1, ['name' => 'Nuevo Nombre']);
```

### âœ… `delete($id)`
Elimina un registro por ID.
```php
User::delete(1);
```

## ğŸ” MÃ©todos del QueryBuilder

Puedes encadenar mÃ©todos usando `User::query()` para hacer consultas mÃ¡s avanzadas.

### ğŸ”¸ `select(...$columns)`
Selecciona columnas especÃ­ficas.
```php
User::query()->select('id', 'email')->get();
```

### ğŸ”¸ `join($table, $on, $type = 'INNER')`
Agrega un `JOIN` (INNER por defecto).
```php
User::query()->join('roles', 'users.role_id = roles.id')->get();
```

### ğŸ”¸ `leftJoin($table, $on)` y `rightJoin($table, $on)`
Agrega joins de tipo LEFT o RIGHT.
```php
User::query()->leftJoin('posts', 'users.id = posts.user_id')->get();
```

### ğŸ”¸ `where($column, $operator, $value)`
Agrega condiciones WHERE.
```php
User::query()->where('email', '=', 'correo@ejemplo.com')->get();
```

### ğŸ”¸ `orWhere($column, $operator, $value)`
Agrega condiciÃ³n OR.
```php
User::query()
    ->where('name', '=', 'Ana')
    ->orWhere('name', '=', 'Luis')
    ->get();
```

### ğŸ”¸ `orderBy($column, $direction)`
Ordena los resultados.
```php
User::query()->orderBy('created_at', 'DESC')->get();
```

### ğŸ”¸ `limit($cantidad)`
Limita el nÃºmero de resultados.
```php
User::query()->limit(5)->get();
```

### ğŸ”¸ `first()`
Devuelve el primer resultado.
```php
User::query()->where('email', '=', 'x@x.com')->first();
```

### ğŸ”¸ `count()`
Cuenta el nÃºmero de registros.
```php
User::query()->where('estado', '=', 'activo')->count();
```

## ğŸ“Œ Ejemplo completo

```php
$users = User::query()
    ->select('users.id', 'users.name', 'roles.name AS role')
    ->join('roles', 'users.role_id = roles.id')
    ->where('roles.name', '=', 'admin')
    ->orderBy('users.name')
    ->limit(10)
    ->get();
```

---

ğŸ“ RecomendaciÃ³n: Guarda esta documentaciÃ³n en tu proyecto, por ejemplo en `docs/orm.txt`